// .devcontainer/devcontainer.json (extensions の書き方を修正)
{
  "name": "Shopee Dev Container",
  "build": {
    "dockerfile": "Dockerfile",
    "args": { "INSTALL_NODE": "true" }
  },

  "containerEnv": {
    // 重要： "ここにあなたの取得したGemini APIキーを貼り付け" の部分は、
    //       実際のAPIキーに置き換えてください。
    "GEMINI_API_KEY": "AIzaSyD-Ouqvsa11Z2Rg18EHGHEVS6JFsqixRCo"
  },

  // --- ↓↓↓ extensions の書き方を変更 ↓↓↓ ---
  "customizations": {
    "vscode": {
      "extensions": [
        "ms-python.python",
        "ms-python.vscode-pylance",
        "dbaeumer.vscode-eslint",
        "esbenp.prettier-vscode",
        "ms-vscode.vscode-node-azure-pack"
        // 必要なら "Google.geminicodeassist" なども追加
      ]
    }
  },
  // --- ↑↑↑ extensions の書き方を変更 ↑↑↑ ---

  "postCreateCommand": "(test -f requirements.txt && pip install --user -r requirements.txt || echo 'requirements.txt not found, skipping pip install') && (test -f package.json && npm install || echo 'package.json not found, skipping npm install')",

  "forwardPorts": [
      3000,
      8000,
      8501 // Streamlit デフォルトポート
    ],
  "remoteUser": "vscode",
  "runArgs": ["--memory=4g", "--cpus=2"]
}